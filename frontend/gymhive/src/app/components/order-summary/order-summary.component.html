<div class="order-summary">
    <h2>Order Summary</h2>

    <div class="product-list">
        @for (product of cart.products; track product.productId) {
        <div class="product-item">
            <div class="product-image">
                <img [src]="product.imageUrl" [alt]="product.name">
            </div>
            <div class="product-details">
                <h3>{{ product.name }}</h3>
                <p class="product-price">${{ product.price.toFixed(2) }}</p>
                <p class="product-quantity">Qty: {{ product.quantity || 1 }}</p>
            </div>
            <div class="product-total">
                ${{ ((product.price || 0) * (product.quantity || 1)).toFixed(2) }}
            </div>
        </div>
        }
    </div>

    <div class="summary-divider"></div>

    <div class="summary-totals">
        <div class="summary-row">
            <span>Subtotal</span>
            <span>${{ subtotal.toFixed(2) }}</span>
        </div>
        <div class="summary-row">
            <span>Shipping</span>
            <span>${{ shippingCost.toFixed(2) }}</span>
        </div>
        <div class="summary-row">
            <span>Tax ({{ (taxRate * 100).toFixed(0) }}%)</span>
            <span>${{ tax.toFixed(2) }}</span>
        </div>
        <div class="summary-divider"></div>
        <div class="summary-row total">
            <span>Total</span>
            <span>${{ total.toFixed(2) }}</span>
        </div>
    </div>

</div>